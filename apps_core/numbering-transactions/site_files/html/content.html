<div class="form">
    <div id="numbering_transactionsAddModal">





        <fieldset>
            <legend> ##word.numbering_transactions## </legend>
            <div class="tabs">
                <div class="tabs-header">
                    <a class="tab-link" ng-repeat="module in numbering_transactions.modules_list track by $index"
                        ng-click="openTab(module,'transactions')">
                        {{module.ar}}
                    </a>
                </div>

                <div class="tabs-content">
                    <div id="tab_{{module.id}}" class="tab-content" ng-repeat="module in numbering_transactions.modules_list">


                        <fieldset>
                            <legend> ##word.numbering_transactions_system## </legend>
                            <i-radio class="col3" ng-value="normal" ng-model="module.transaction_system"
                                label="##word.numbering_transactions_system_normal##"></i-radio>

                            <i-radio class="col3" ng-value="auto" ng-model="module.transaction_system"
                                label="##word.numbering_transactions_system_auto##"></i-radio>


                        </fieldset>

                        <fieldset>
                            <legend> ##word.numbering_transactions_type## </legend>
                            <i-radio class="col3" group="g_{{module.id}}" ng-value="connected" ng-model="module.transaction_number"
                                label="##word.numbering_transactions_connected##"></i-radio>

                            <i-radio class="col3" group="g_{{module.id}}" ng-value="year" ng-model="module.transaction_number"
                                label="##word.numbering_transactions_financial_year##"></i-radio>

                            <i-radio class="col3" group="g_{{module.id}}" ng-value="period" ng-model="module.transaction_number"
                                label="##word.numbering_transactions_accounting_period##"></i-radio>

                        </fieldset>


                        <table class="table" ng-show="module.transaction_system == 'auto'">
                            <tr>
                                <th> ##word.transaction## </th>
                                <th ng-show="module.transaction_number== 'connected'">
                                    ##word.numbering_transactions_financial_year_start## </th>
                                <th ng-show="module.transaction_number== 'year'">
                                    ##word.numbering_transactions_financial_year##
                                </th>
                                <th ng-show="module.transaction_number== 'period'">
                                    ##word.numbering_transactions_accounting_period## </th>
                            </tr>

                            <tr ng-repeat="transaction in module.transactions_names_list track by $index " ng-show="transaction.type == 'transactions'">
                                <td>
                                    {{transaction.ar}} 
                                </td>

                                <td ng-show="module.transaction_number == 'connected'">
                                    <div class="row">
                                        <div class="col4 padding">
                                            <i-control type="number" ng-model="transaction.value"></i-control>
                                        </div>
                                        <div class="col4 padding">
                                            <p class="text-center bold blue">
                                                ##word.numbering_transactions_last_number## </p>
                                            <br>
                                            <p class="text-center bold green"> {{transaction.current_value}} </p>

                                        </div>
                                        <div class="col4">
                                            <i-button type="bg-red" fa="recycle" ng-click="transaction.current_value = transaction.value - 1"></i-button>
                                        </div>
                                    </div>
                                </td>

                                <td ng-show="module.transaction_number == 'year'">
                                    <div ng-repeat="year in transaction.financial_years_list track by $index">
                                        <div class="row">
                                            <div class="col4 padding">
                                                <span> {{year.code}} - <span class="green bold">{{year.status.ar}}</span></span>
                                                <i-control type="number" ng-model="year.value"> </i-control>
                                            </div>
                                            <div class="col4 padding">
                                                <p class="text-center bold blue">
                                                    ##word.numbering_transactions_last_number## </p>
                                                <br>
                                                <p class="text-center bold green"> {{year.current_value}} </p>

                                            </div>
                                            <div class="col4">
                                                <i-button type="bg-red" fa="recycle" ng-click="year.current_value = year.value - 1"></i-button>
                                            </div>
                                        </div>
                                    </div>
                                </td>

                                <td ng-show="module.transaction_number == 'period'">
                                    <div ng-repeat="year in transaction.financial_years_list track by $index">
                                        <p> {{year.code}} </p>
                                        <div ng-repeat="period in year.accounting_period_list track by $index">

                                            <div class="row">
                                                <div class="col4 padding">
                                                    <span> {{period.start |xdate}} - <span class="green bold">{{year.status.ar}}</span></span>
                                                    <i-control type="number" ng-model="period.value"></i-control>
                                                </div>
                                                <div class="col4 padding">
                                                    <p class="text-center bold blue">
                                                        ##word.numbering_transactions_last_number## </p>
                                                    <br>
                                                    
                                                    
                                                    <p class="text-center bold green"> {{period.current_value}} </p>

                                                </div>
                                                <div class="col4">
                                                    <i-button type="bg-red" fa="recycle" ng-click="period.current_value = period.value - 1"></i-button>
                                                </div>
                                            </div>

                                        </div>


                                    </div>
                                </td>
                            </tr>
                        </table>

                    </div>

                </div>
            </div>

        </fieldset>






        
        <fieldset>
            <legend> ##word.files_transactions## </legend>
            <div class="tabs">
                <div class="tabs-header">
                    <a class="tab-link" ng-repeat="module in numbering_transactions.modules_list track by $index"
                        ng-click="openTab(module,'files')">
                        {{module.ar}}
                    </a>
                </div>

                <div class="tabs-content">
                    <div id="tabFiles_{{module.id}}" class="tab-content" ng-repeat="module in numbering_transactions.modules_list">


                        <fieldset>
                            <legend> ##word.numbering_transactions_system## </legend>
                            <i-radio class="col3" ng-value="normal" ng-model="module.transaction_files_system"
                                label="##word.numbering_transactions_system_normal##"></i-radio>

                            <i-radio class="col3" ng-value="auto" ng-model="module.transaction_files_system"
                                label="##word.numbering_transactions_system_auto##"></i-radio>

                           
                        </fieldset>

                        


                        <table class="table" ng-show="module.transaction_files_system == 'auto'" >
                            <tr>
                                <th> ##word.transaction## </th>
                                <th >
                                    ##word.numbering_transactions_financial_year_start## </th>
                                
                            </tr>

                            <tr ng-repeat="transaction in module.transactions_names_list track by $index " ng-show="transaction.type == 'files'">
                                <td>
                                    {{transaction.ar}} 
                                </td>

                                <td>
                                    <div class="row">
                                        <div class="col4 padding">
                                            <i-control ng-hide="transaction.current_value >= transaction.value" type="number" ng-model="transaction.value"></i-control>
                                            <p ng-show="transaction.current_value >= transaction.value" class="text-center bold">
                                                <br>
                                                {{transaction.value}}
                                            </p>
                                        </div>
                                        
                                        <div class="col4 padding">
                                            <p class="text-center bold blue">
                                                ##word.numbering_transactions_last_number## </p>
                                            <br>
                                            <p class="text-center bold green"> {{transaction.current_value}} </p>

                                        </div>
                                        <div class="col4">
                                            <i-button type="bg-red" fa="recycle" ng-hide="transaction.current_value >= transaction.value"  ng-click="transaction.current_value = transaction.value - 1"></i-button>
                                        </div>
                                    </div>
                                </td>

                                
                            </tr>
                        </table>

                    </div>

                </div>
            </div>

        </fieldset>






    </div>
</div>