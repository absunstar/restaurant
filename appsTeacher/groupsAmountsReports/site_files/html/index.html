<!DOCTYPE html>
<html lang="En" data-ng-app="myApp">
  <head x-import="teacher-theme/head-dashboard.html"></head>

  <body class="##session.lang##" ng-controller="groupsAmountsReports">
    <div x-import="groupsAmountsReports/detailsModal.html"></div>
    <nav x-import="teacher-theme/sitebar.html" class="sitebar" data-ng-controller="sitebar"></nav>

    <nav class="sitebottom" x-import="teacher-theme/sitebottom.html" ng-controller="sitebottom"></nav>
    <main class="container">
      <div id="main-layout" class="content loaded">
        <div id="groupsAmountsReportsSearch" class="row">
          <div class="row">
            <i-date v="r" class="col6" ng-model="search.dateFrom" label="##word.Date From##"></i-date>
            <i-date v="r" class="col6" ng-model="search.dateTo" label="##word.Date To##"></i-date>
          </div>
          <div class="row">
            <i-list class="col6" v="r" label="##word.Group##" ng-model="search.group" display="name" items="groupsList" ng-get="getGroupsList($search)"></i-list>
            <i-button class="col3" label="##word.Search##" type="search" ng-click="getAll(search)"></i-button>
          </div>
        </div>

        <div class="row" ng-show="search.group.id">
          <div class="person-cart">
            <div class="row">
              <div class="col7">
                <p class="bold"><span class="darkGray">##word.Group Name## : </span> {{search.group.name}}</p>
              </div>
              <div class="col5">
                <p class="bold"><span class="darkGray">##word.Subject## : </span> {{search.group.subject.name}}</p>
              </div>
            </div>
            <div class="row">
              <div class="col7">
                <p class="bold"><span class="darkGray">##word.Teacher## : </span> {{search.group.teacher.firstName}}</p>
              </div>
              <div class="col5">
                <p class="bold"><span class="darkGray">##word.Mobile## : </span> {{search.group.teacher.mobile}}</p>
              </div>
            </div>

            <div class="row">
              <div class="col7">
                <p class="bold"><span class="darkGray">##word.Educational Level## : </span> {{search.group.educationalLevel.name}}</p>
              </div>
              <div class="col5">
                <p class="bold"><span class="darkGray">##word.School Year## : </span> {{search.group.schoolYear.name}}</p>
              </div>
            </div>

            <div class="row">
              <div class="col7">
                <p class="bold"><span class="darkGray">##word.Payment Method## : </span> {{search.group.paymentMethod.name##session.lang##}}</p>
              </div>
              <div class="col5">
                <p class="bold"><span class="darkGray">##word.Price## : </span> {{search.group.price}} ##word.$##</p>
              </div>
            </div>
          </div>
        </div>

        <div class="table-responsive col6" ng-show="search.group.id">
          <table class="table hover bold">
            <tr>
              <th>##word.Total Required##</th>
              <th>##word.Total Paid##</th>
              <th>##word.Total Remain##</th>
            </tr>
            <tr>
              <td class="center">{{item.totalRequired}} ##word.$##</td>
              <td class="center">{{item.totalPaid}} ##word.$##</td>
              <td class="center">{{item.totalRemain}} ##word.$##</td>
            </tr>
          </table>
        </div>
        <div class="row">
          <div class="table-responsive">
            <table class="table hover bold" id="t1">
              <tr>
                <th>##word.Student##</th>
                <th>##word.Barcode##</th>
                <th>##word.Mobile##</th>
                <th>##word.Parent Mobile##</th>
                <th>##word.Total Required##</th>
                <th>##word.Total Paid##</th>
                <th>##word.Total Remain##</th>
                <th>##word.Details##</th>
              </tr>
              <tr ng-repeat="item in item.list | filter:$search">
                <td class="center">{{item.student.firstName}}</td>
                <td class="center">{{item.student.barcode}}</td>
                <td class="center">
                  <a target="_blank" href="https://wa.me/{{item.student.mobile}}">
                    {{item.student.mobile}}
                    <i class="fas fa-mobile-alt"></i>
                  </a>
                </td>
                <td class="center">
                  <a target="_blank" href="https://wa.me/{{item.student.parentMobile}}">
                    {{item.student.parentMobile}}
                    <i class="fas fa-mobile-alt"></i>
                  </a>
                </td>
                <td class="center">{{item.totalRequired}} ##word.$##</td>
                <td class="center">{{item.totalPaid}} ##word.$##</td>
                <td class="center">{{item.totalRemain}} ##word.$##</td>
                <td class="center"><i-button type="view" ng-click="displayDetails(item)"></i-button></td>
              </tr>
            </table>
          </div>
        </div>

        <div class="row">
          <h2 class="bold center red">{{error}}</h2>
        </div>
      </div>
    </main>

    <div x-import="teacher-theme/scripts-dashboard.html"></div>

    <script x-import="groupsAmountsReports/index.js"></script>
  </body>
</html>
