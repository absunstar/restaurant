<div ng-controller="purchaseOrders" class="loaded">
  <div class="row" x-permissions="purchaseOrdersUi || purchaseOrdersManage">
    <div x-import="purchaseOrders/modal.html"></div>

    <div class="top-actions">

      <div class="row">
        <i-list
          class="col4"
          label="##word.Lecture##"
          ng-model="_search.lecture"
          display="name"
          items="lecturesList"
          ng-get="getLecturesList()"
        ></i-list>
        <i-list
          class="col4"
          label="##word.Package##"
          ng-model="_search.package"
          display="name"
          items="packagesList"
          ng-get="getPackagesList()"
        ></i-list>
        <i-list
        class="col4"
        label="##word.Student##"
        ng-model="_search.student"
        display="firstName"
        items="studentsList"
        ng-get="getStudentsList()"
      ></i-list>
      </div>

      <div class="row">
        <i-date
          class="col4"
          label="##word.From Date##"
          ng-model="_search.fromDate"
        >
        </i-date>
        <i-date class="col4" label="##word.To Date##" ng-model="_search.toDate">
        </i-date>
        <div class="col2">
          <br />
          <i-button
            type="search"
            label="##word.Search##"
            ng-click="getAll()"
          ></i-button>
        </div>
      </div>
     
    </div>

    <div class="row padding">
      <i-control
        ng-model="$search"
        x-permissions="purchaseOrdersSearch || purchaseOrdersManage"
      ></i-control>
    </div>
    <div class="table-responsive">
      <table class="table hover bold" id="t1">
        <tr>
          <th>##word.Type##</th>
          <th>##word.Date##</th>
          <th>##word.Student Name##</th>
          <th>##word.Target Name##</th>
          <th>##word.Status##</th>
          <th class="not-print">##word.Actions##</th>
        </tr>
        <tr ng-repeat="item in list">
          <td class="center">
            <span ng-show="item.type == 'lecture'">##word.Lecture##</span>
            <span ng-show="item.type == 'package'">##word.Package##</span>
          </td>
          <td class="center">{{item.date |date:"dd - MM - yyyy"}}</td>
          <td class="center">{{item.user.firstName}}</td>
          <td class="center">{{item.target.name}}</td>
          <td class="center not-print">
            <i-button
              type="view"
              title="##word.View##"
              ng-click="showView(item)"
            ></i-button>

            <i-button
              type="edit"
              x-permissions="purchaseOrdersUpdate || purchaseOrdersManage"
              title="##word.Edit##"
              ng-click="showUpdate(item)"
            ></i-button>

            <i-button
              type="delete"
              x-permissions="purchaseOrdersDelete || purchaseOrdersManage"
              title="##word.Delete##"
              ng-click="showDelete(item)"
            ></i-button>
          </td>
        </tr>
      </table>
    </div>
    <i-button
      x-permissions="purchaseOrdersPrint || purchaseOrdersManage"
      type="print"
      label="##word.Print##"
      onclick="site.print('#t1')"
    ></i-button>
    <i-button
      x-permissions="purchaseOrdersExport || purchaseOrdersManage"
      type="export"
      label="##word.Export to excel##"
      onclick="export_to_xlsx('t1' , 'report_value_added.xlsx')"
    >
    </i-button>
  </div>
</div>
