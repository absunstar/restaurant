<div id="menuManageModal" class="modal" fixed>
  <div class="modal-content">
    <div class="modal-header">
      <span class="close">&times;</span>

      <h2 ng-show="mode == 'add' ">
        ##word.menus_add##
        <i class="fa fa-plus"></i>
      </h2>
      <h2 ng-show="mode == 'edit' ">
        ##word.menus_edit##
        <i class="fa fa-pencil"></i>
      </h2>
      <h2 ng-show="mode == 'delete' ">
        ##word.menus_delete##
        <i class="fa fa-trash"></i>
      </h2>
      <h2 ng-show="mode == 'view' ">
        ##word.menus_details##
        <i class="fa fa-file"></i>
      </h2>
    </div>

    <div class="modal-body">
      <fieldset>
        <legend>##word.basic_information##</legend>
        <div class="row">
          <div class="col9">
            <div class="row">
              <div class="col9">
                <div class="article-part">
                  <fieldset ng-repeat="lang in menu.translatedList track by $index">
                    <legend>{{lang.language.##session.lang##}}</legend>

                    <i-control v="r ll2" label="##word.menu_name##" ng-model="lang.name"></i-control>
                  </fieldset>
                </div>
              </div>
              <div class="col3">
                <i-checkbox help-id="menus_active" label="##word.active##" ng-model="menu.active"> </i-checkbox>
              </div>
            </div>

            <div class="row">
              <i-list class="col6" v="r" ng-model="menu.linkageType" items="linkTypeList" display="##session.lang##" ng-search="menu.$searchLinkageType" label="##word.linkage_type##"> </i-list>
            </div>

            <div class="row" ng-show="menu.linkageType.id == 1">
              <div class="col6">
                <i-list
                  class="row input-style"
                  label="##word.category##"
                  ng-model="menu.category"
                  ng-click="loadSubCategory1(menu.category)"
                  items="topCategoryList"
                  display="name"
                  ng-search="menu.$category1Search"
                ></i-list>

                <i-list
                  class="row input-style"
                  label="##word.categories## {{menu.category.name}}"
                  ng-model="menu.subCategory1"
                  ng-click="loadSubCategory2(menu.subCategory1)"
                  items="subCategoriesList1"
                  ng-show="subCategoriesList1.length > 0 && menu.category"
                  display="name"
                  ng-search="menu.$category2Search"
                ></i-list>

                <i-list
                  class="row input-style"
                  label="##word.categories## {{menu.subCategory1.name}}"
                  ng-model="menu.subCategory2"
                  ng-click="loadSubCategory3(menu.$subCategory2)"
                  items="subCategoriesList2"
                  ng-show="subCategoriesList2.length > 0 && menu.subCategory1"
                  display="name"
                  ng-search="menu.$category3Search"
                ></i-list>

                <i-list
                  class="row input-style"
                  label="##word.categories## {{menu.subCategory2.name}}"
                  ng-model="menu.subCategory3"
                  ng-click="loadSubCategory4(menu.subCategory3)"
                  items="subCategoriesList3"
                  ng-show="subCategoriesList3.length > 0 && menu.subCategory2"
                  display="name"
                  ng-search="menu.$category4Search"
                ></i-list>

                <i-list
                  class="row input-style"
                  label="##word.categories## {{menu.subCategory3.name}}"
                  ng-model="menu.subCategory4"
                  items="subCategoriesList4"
                  ng-show="subCategoriesList4.length > 0 && menu.subCategory3"
                  display="name"
                  ng-search="menu.$category5Search"
                ></i-list>
              </div>
            </div>

            <div class="row">
              <i-list class="col6 input-style" ng-show="menu.linkageType.id == 2" label="##word.page##" ng-model="menu.page" items="pagesList" display="title" ng-search="menu.$pageSearch"> </i-list>

              <i-control class="col6" label="##word.external_link##" ng-show="menu.linkageType.id == 3" ng-model="menu.externalLink"> </i-control>

              <i-control class="col6" label="##word.internal_link##" ng-show="menu.linkageType.id == 4" ng-model="menu.internalLink"> </i-control>
            </div>

            <div class="row">
              <i-textarea ng-model="menu.description" label="##word.description##"> </i-textarea>
            </div>
          </div>

          <div class="col3">
            <i-image help-id="menus_logo" ng-model="menu.image"></i-image>
          </div>
        </div>
      </fieldset>
      <div ng-show="mode !== 'add' " class="row">
        <table class="table hover border">
          <tr>
            <th>##word.useradd_user_info##</th>
            <th>##word.useredit_user_info##</th>
          </tr>
          <tr>
            <td class="center">
              <p class="blue">{{menu.addUserInfo.name}}</p>
              <small class="green"> {{menu.addUserInfo.date |date:"hh:mm"}} </small>
              <small> {{menu.addUserInfo.date |date:"dd - MM - yyyy"}} </small>
              <p class="bold">IP : {{menu.addUserInfo.ip}}</p>
            </td>

            <td class="center">
              <p class="blue">{{menu.editUserInfo.name}}</p>
              <small class="green"> {{menu.editUserInfo.date |date:"hh:mm"}} </small>
              <small> {{menu.editUserInfo.date |date:"dd - MM - yyyy"}} </small>
              <p class="bold">IP : {{menu.editUserInfo.ip}}</p>
            </td>
          </tr>
        </table>
      </div>
    </div>

    <div class="modal-footer center">
      <h2 class="error">{{error}}</h2>
      <i-button type="add" ng-show="mode == 'add' " label="##word.add##" ng-click="addMenu()"></i-button>
      <i-button type="edit" ng-show="mode == 'edit' " label="##word.edit##" ng-click="updateMenu(menu)"></i-button>
      <i-button type="delete" ng-show="mode == 'delete' " label="##word.delete##" ng-click="deleteMenu(menu)"> </i-button>
      <i-button type="close" label="##word.close##" onclick="site.hideModal( '#menuManageModal')"></i-button>
    </div>
  </div>
</div>
