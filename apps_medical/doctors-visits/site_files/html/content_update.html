<div class="form">



    <div class="tabs">
        <div class="tabs-header">
            <a class="tab-link" onclick="site.showTabContent(event,'#basicInformation')">
                ##word.basic_information##
            </a>

            <a class="tab-link" onclick="site.showTabContent(event, '#examinationBeforeDetectionInformation')">
                ##word.examination_before_detection## </a>


            <a class="tab-link" onclick="site.showTabContent(event, '#diagnosisInformation')">
                ##word.diagnosis_after_visit## </a>

            <a class="tab-link" onclick="site.showTabContent(event, '#medicinesInformation')">
                ##word.medicines## ##word.requiredy##</a>
            <a class="tab-link" onclick="site.showTabContent(event, '#scanInformation')">
                ##word.scan## ##word.requiredy##</a>
            <a class="tab-link" onclick="site.showTabContent(event, '#analysisInformation')">
                ##word.analysis## ##word.requiredy##</a>
            <a class="tab-link" onclick="site.showTabContent(event, '#operationInformation')">
                ##word.operations## ##word.requiredy##</a>

            <a class="tab-link" onclick="site.showTabContent(event, '#foodsDrinksInformation')">
                ##word.foods_drinks##</a>

            <a class="tab-link " onclick="site.showTabContent(event, '#doctorsVisitsFiles')">
                ##word.customers_files## </a>

        </div>


        <div class="tabs-content">
            <div id="basicInformation" class="tab-content">

                <fieldset>
                    <legend> ##word.basic_information## </legend>
                    <div class="row">
                        <div class="row">
                            <div class="col8">

                                <div class="row">
                                    <i-list class="col3" label="##word.visit_type##"
                                        ng-model="doctors_visits.visit_type" ng-change="changeDoctorsVisitsPrice()"
                                        items="doctorsVisitsTypeList" display="##session.lang##"
                                        ng-search="_search.$doctors_visits_type_search">
                                    </i-list>

                                </div>
                                <div class="row">
                                    <i-control class="col3" label="##word.patient_search##" ng-model="patient_search"
                                        ng-keydown="getPatientList($event)"></i-control>

                                    <i-list class="col5" label="##word.patient##" v="r"
                                        ng-model="doctors_visits.customer" display="name_##session.lang##"
                                        items="customersList" ng-search="_search.$patients_searching">
                                    </i-list>

                                    <div class="col1"></div>

                                    <div class="col3">

                                        <div class="row">
                                            <i-button type="add" label="##word.customers_new##"
                                                ng-click="displayAddCustomer()">
                                            </i-button>
                                        </div>

                                        <div class="row">
                                            <i-button ng-show="doctors_visits.customer.id" type="details"
                                                label="##word.customers_details##"
                                                ng-click="showPatient(doctors_visits.customer.id)">
                                            </i-button>
                                        </div>

                                    </div>

                                </div>

                                <div class="row" ng-show="doctors_visits.customer.id">
                                    <fieldset class="col11">

                                        <table class="table bold center hover">
                                            <tr>
                                                <td class="blue"> ##word.customer_name## </td>
                                                <td colspan="7" class="center">
                                                    {{doctors_visits.customer.name_##session.lang##}}
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="blue"> ##word.gender## </td>
                                                <td colspan="2" class="center">
                                                    {{doctors_visits.customer.gender.##session.lang##}}
                                                </td>
                                                <td class="blue"> ##word.child## </td>
                                                <td colspan="2" ng-show="doctors_visits.customer.child == true">
                                                    <p class="green"> ##word.yes## </p>
                                                </td>
                                                <td colspan="2" ng-show="!doctors_visits.customer.child">
                                                    <p class="red"> ##word.no## </p>
                                                </td>
                                                <td colspan="2"></td>
                                            </tr>


                                            <tr>
                                                <td class="blue"> ##word.weight## </td>
                                                <td colspan="2" class="center"> {{doctors_visits.customer.weight}}
                                                </td>
                                                <td class="blue"> ##word.tall## </td>
                                                <td colspan="2" class="center"> {{doctors_visits.customer.tall}}
                                                </td>
                                                <td class="blue"> ##word.blood_type## </td>
                                                <td colspan="2" class="center red">
                                                    {{doctors_visits.customer.blood_type.name}}
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="blue"> ##word.medicine_notes## </td>
                                                <td colspan="7" class="center">
                                                    {{doctors_visits.customer.medicine_notes}}</td>
                                            </tr>
                                            <tr>
                                                <td class="blue"> ##word.gov## </td>
                                                <td colspan="2" class="center"> {{doctors_visits.customer.gov.name}}
                                                </td>
                                                <td class="blue"> ##word.city## </td>
                                                <td colspan="2" class="center">
                                                    {{doctors_visits.customer.city.name}}
                                                </td>
                                                <td class="blue"> ##word.area## </td>
                                                <td colspan="2" class="center">
                                                    {{doctors_visits.customer.area.name}}
                                                </td>
                                            </tr>

                                            <tr>
                                                <td class="blue"> ##word.address## </td>
                                                <td colspan="7" class="center"> {{doctors_visits.customer.address}}
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="blue"> ##word.mobile## </td>
                                                <td colspan="4" class="center"> {{doctors_visits.customer.mobile}}
                                                </td>
                                                <td class="blue"> ##word.phone## </td>
                                                <td colspan="3" class="center"> {{doctors_visits.customer.phone}}
                                                </td>
                                            </tr>

                                        </table>
                                    </fieldset>
                                </div>
                            </div>

                            <div class="col4">
                                <i-checkbox help-id="cities_active" label="##word.active##"
                                    ng-model="doctors_visits.active">
                                </i-checkbox>

                                <br>
                                <br>
                                <br>
                                <br>

                                <div class="row">

                                    <div class=" padding margin">
                                        <table class="table box-shadow " ng-init="discountEditorAdd = true">
                                            <tr>
                                                <th colspan="2" class="pointer"
                                                    ng-click="discountEditorAdd = !discountEditorAdd">
                                                    ##word.discountes##
                                                    <i class="fa fa-edit"></i>
                                                </th>
                                            </tr>
                                            <tr ng-hide="discountEditorAdd">
                                                <td colspan="2">
                                                    <form>

                                                        <div class="row ">
                                                            <i-list class="col4" ng-model="discount"
                                                                ng-search="_search.$discount_name"
                                                                items="discount_types" label="##word.discount_name##">
                                                            </i-list>
                                                        </div>

                                                        <div class="row">
                                                            <i-control class="col4" ng-model="discount.value"
                                                                type="number" label="##word.discount_value##">
                                                            </i-control>
                                                            <div class="col4">
                                                                <i-radio ng-model="discount.type" ng-value="number"
                                                                    group="type" label="##word.discount_types_number##">
                                                                </i-radio>

                                                                <i-radio ng-model="discount.type" group="type"
                                                                    ng-value="percent"
                                                                    label="##word.discount_types_percent##">
                                                                </i-radio>
                                                            </div>
                                                            <div class="col4" class="padding">
                                                                <br>
                                                                <i-button ng-click="addDiscount() ;calc(doctors_visits)"
                                                                    label="##word.stores_out_add_discount##"
                                                                    type="add default">
                                                                </i-button>
                                                            </div>

                                                        </div>

                                                    </form>
                                                </td>
                                            </tr>

                                            <tr ng-repeat="d1 in doctors_visits.discountes">

                                                <td>
                                                    <span class="bold red">{{d1.name}} -</span>
                                                    <span class="bold red" ng-show="d1.type === 'percent'">{{d1.value}}
                                                        %</span>
                                                    <span class="bold red"
                                                        ng-show="d1.type === 'number'">{{d1.value}}$</span>
                                                    <i-button type="delete"
                                                        ng-click="deleteDiscount(d1) ; calc(doctors_visits)">
                                                    </i-button>
                                                </td>

                                            </tr>
                                        </table>

                                    </div>

                                </div>

                                <br>
                                <br>
                                <br>
                                <br>

                                <fieldset ng-show="doctors_visits.doctor_visit_price && doctors_visits.selected_time">
                                    <div class="row">
            
                                        <i-control class="col4" ng-show="doctors_visits.total_value" disabled
                                            ng-model="doctors_visits.total_value" type="number" label="##word.total_value##">
                                        </i-control>
            
                                        <i-control class="col4" ng-show="doctors_visits.is_urgent_visit"
                                            ng-model="doctors_visits.urgent_visit.value" type="number" disabled
                                            label="##word.urgent_visit##">
                                        </i-control>
            
                                        <i-control class="col4" ng-show="doctors_visits.total_discount" disabled
                                            ng-model="doctors_visits.total_discount" type="number" label="##word.total_discount##">
                                        </i-control>
            
                                    </div>
            
                                    <div class="row">
            
                                        <i-control class="col4" disabled ng-show="doctors_visits.net_value"
                                            ng-model="doctors_visits.net_value" type="number" label="##word.paid_require##">
                                        </i-control>
            
                                        <i-control class="col4" ng-change="calc(doctors_visits)"
                                            ng-model="doctors_visits.paid" type="number" label="##word.paid##">
                                        </i-control>
            
                                        <i-control class="col4" disabled ng-model="doctors_visits.remain" type="number"
                                            label="##word.remain##">
                                        </i-control>
            
                                    </div>
            
            
                                </fieldset>
                            </div>

                        </div>

                        <br>
                        <br>

                        <div class="row">
                            <h2 class="black">##word.booking_date## :</h2>
                            <h2 class="brown">{{doctors_visits.date | date : 'dd - MM - yyyy'}}</h2>
                        </div>

                        <br>
                        <br>
                        <br>
                        <div class="row">
                            <table class="table center hover bold">
                                <tr>
                                    <th>##word.clinic##</th>
                                    <th>##word.specialty##</th>

                                </tr>
                                <tr>
                                    <td> {{doctors_visits.selected_clinic.name}}</td>
                                    <td> {{doctors_visits.selected_specialty.name}}</td>

                                </tr>
                            </table>

                        </div>

                        <br>
                        <br>

                        <div class="row">
                            <table class="table center hover bold">
                                <tr>
                                    <th>##word.doctor_name##</th>
                                    <th>##word.shift_name##</th>
                                    <th>##word.work_day##</th>
                                    <th>##word.work_from##</th>
                                    <th>##word.work_to##</th>
                                    <th>##word.doctor_visit_price##</th>

                                </tr>
                                <tr>
                                    <td class="title"> {{doctors_visits.selected_doctor.name}}</td>
                                    <td> {{doctors_visits.selected_shift.name}}</td>
                                    <td> {{doctors_visits.selected_time.day.ar}}</td>
                                    <td class="green"> {{doctors_visits.selected_time.from.minute}} :
                                        {{doctors_visits.selected_time.from.hour}}</td>
                                    <td class="red"> {{doctors_visits.selected_time.to.minute}} :
                                        {{doctors_visits.selected_time.to.hour}}
                                    </td>
                                    <td>
                                        <p class="green">{{doctors_visits.doctor_visit_price}}</p>
                                    </td>


                                </tr>
                            </table>
                        </div>

                    </div>
                </fieldset>


            </div>

            <div id="medicinesInformation" class="tab-content">
                <fieldset>
                    <legend>
                        ##word.medicines##
                    </legend>

                    <br>

                    <div class="row">
                        <i-control class="col3" label="##word.medicine_search##" ng-model="medicine.search"
                            ng-keydown="getMedicinesList($event)"></i-control>

                        <i-list class="col5" label="##word.medicine##" ng-model="medicine.item" display="size"
                            ng-change="selectMedicine(medicine.item)" display2="size_en" space=" - "
                            items="medicine.list" ng-search="_search.$patients_searching">
                        </i-list>

                    </div>

                    <br>
                    <br>
                    <hr style="height:5px;color:grey;background-color:rgb(0, 0, 199)">
                    <br>

                    <div class="row">

                        <table class="table bold hover">
                            <tr>
                                <th>##word.barcode##</th>
                                <th>##word.medicine_name##</th>
                                <th>##word.stores_out_item_size##</th>
                                <th class="w100">##word.count_dosage##</th>
                                <th class="w150">##word.medicine_unit##</th>
                                <th class="w200">##word.timing_dosage##</th>
                                <th class="w250">##word.notes##</th>
                                <th class="w150">##word.actions##</th>
                            </tr>

                            <tr ng-repeat="itm in doctors_visits.medicines_list">

                                <td>
                                    <br>
                                    <p class="userPrint center">{{itm.barcode}}</p>
                                </td>

                                <td class="center"> <br> {{itm.name}}</td>

                                <td>
                                    <p class="center">{{itm.size}}</p>
                                    <p class="center">{{itm.size_en}}</p>
                                </td>

                                <td>
                                    <i-control type="number" ng-model="itm.count"></i-control>
                                </td>

                                <td>
                                    <i-list ng-model="itm.unit" ng-search="_search.$category_item.$unit_search"
                                        space=" - " ng-change="ChangeUnitPatch(itm);" display2="barcode"
                                        items="itm.size_units_list">
                                    </i-list>
                                </td>

                                <td>
                                    <i-control ng-model="itm.timing_dosage"></i-control>
                                </td>

                                <td>
                                    <i-textarea ng-model="itm.notes"></i-textarea>
                                </td>

                                <td>
                                    <div class="row center">
                                        <i-button label="##word.information_instructions##"
                                            ng-click="viewInformationInstructions(itm)">
                                        </i-button>
                                    </div>

                                    <div class="row center">
                                        <i-button type="view" label="##word.alternative_medicines##"
                                            ng-click="getMedicinesList('alt_view',itm)">
                                        </i-button>

                                    </div>

                                    <div class="row center">
                                        <i-button type="delete" label="##word.delete##"
                                            ng-click="doctors_visits.medicines_list.splice($index,1)">
                                        </i-button>
                                    </div>

                                </td>
                            </tr>
                        </table>

                    </div>



                </fieldset>

            </div>

            <div id="scanInformation" class="tab-content">
                <fieldset>
                    <legend>
                        <i-button type="add default" ng-click="doctors_visits.scans_list.push({active:true})">
                        </i-button>
                        ##word.scans##
                    </legend>
                    <div class="row" ng-repeat="info in doctors_visits.scans_list">
                        <div class="row">

                            <div class="col8">
                                <div class="row">

                                    <div class="row">
                                        <i-list class="col7" label="##word.scans_name##" ng-model="info.scan"
                                            items="scansList" ng-search="_search.$scanses" display="name"></i-list>
                                    </div>

                                    <div class="row">

                                        <i-control class="col7" label="##word.scan_result##" ng-model="info.result">
                                        </i-control>
                                    </div>

                                    <i-textarea label="##word.notes##" ng-model="info.notes">
                                    </i-textarea>

                                </div>
                            </div>
                            <div class="col4">
                                <div class="row">
                                    <div class="col6"></div>

                                    <i-button type="delete" class="col6" label="##word.delete##"
                                        ng-click="doctors_visits.scans_list.length ===1 || doctors_visits.scans_list.splice($index,1)">
                                    </i-button>
                                </div>

                                <div class="row">
                                    <i-files label="##word.results_files##" categoty="doctors_visits"
                                        ng-model="info.files">
                                    </i-files>
                                </div>

                            </div>
                        </div>


                        <br>
                        <br>
                        <hr style="height:5px;color:grey;background-color:rgb(0, 0, 199)">
                    </div>
                </fieldset>
            </div>

            <div id="analysisInformation" class="tab-content">
                <fieldset>
                    <legend>
                        <i-button type="add default" ng-click="doctors_visits.analysis_list.push({active:true})">
                        </i-button>
                        ##word.analysis##
                    </legend>
                    <div class="row" ng-repeat="info in doctors_visits.analysis_list">
                        <div class="row">

                            <div class="col8">
                                <div class="row">

                                    <div class="row">
                                        <i-list class="col7" label="##word.analysis_name##" ng-model="info.analysis"
                                            items="analysisList" ng-search="_search.$analysis" display="name"></i-list>
                                    </div>

                                    <div class="row">

                                        <i-control class="col7" label="##word.analyse_result##" ng-model="info.result">
                                        </i-control>
                                    </div>

                                    <i-textarea label="##word.notes##" ng-model="info.notes">
                                    </i-textarea>

                                </div>
                            </div>
                            <div class="col4">
                                <div class="row">
                                    <div class="col6"></div>

                                    <i-button type="delete" class="col6" label="##word.delete##"
                                        ng-click="doctors_visits.analysis_list.length ===1 || doctors_visits.analysis_list.splice($index,1)">
                                    </i-button>
                                </div>

                                <div class="row">
                                    <i-files label="##word.results_files##" categoty="doctors_visits"
                                        ng-model="info.files">
                                    </i-files>
                                </div>

                            </div>
                        </div>


                        <br>
                        <br>
                        <hr style="height:5px;color:grey;background-color:rgb(0, 0, 199)">
                    </div>
                </fieldset>
            </div>

            <div id="operationInformation" class="tab-content">
                <fieldset>
                    <legend>
                        <i-button type="add default" ng-click="doctors_visits.operation_list.push({active:true})">
                        </i-button>
                        ##word.operations##
                    </legend>
                    <div class="row" ng-repeat="info in doctors_visits.operation_list">
                        <i-button type="delete default"
                            ng-click="doctors_visits.operation_list.length ===1 || doctors_visits.operation_list.splice($index,1)">
                        </i-button>

                        <i-list class="col4" ng-model="info.operation" items="operationList"
                            ng-search="_search.$scanses" display="name"></i-list>
                    </div>
                </fieldset>
            </div>

            <div id="foodsDrinksInformation" class="tab-content">
                <fieldset>
                    <legend>
                        ##word.favorite_foods_drinks##
                    </legend>

                    <div class="row">
                        <div class="col6">
                            <div class="row">

                                <h2 class="black">##word.foods##</h2>
                                <i-button type="add default" ng-click="doctors_visits.favorite_food_list.push({})">
                                </i-button>

                                <div ng-repeat="f in doctors_visits.favorite_food_list" class="row">
                                    <i-list class="col8" display="name_##session.lang##" items="foodsList"
                                        ng-search="favorite_food.$medicines" ng-model="f.food"></i-list>
                                    <i-button class="col2" type="delete default"
                                        ng-click="doctors_visits.favorite_food_list.length ==1 || doctors_visits.favorite_food_list.splice($index,1)">
                                    </i-button>

                                </div>
                            </div>

                        </div>

                        <div class="col6">
                            <div class="row">
                                <h2 class="black">##word.drinks##</h2>
                                <i-button type="add default" ng-click="doctors_visits.favorite_drink_list.push({})">
                                </i-button>

                                <div ng-repeat="d in doctors_visits.favorite_drink_list" class="row">
                                    <i-list class="col8" items="drinksList" display="name_##session.lang##"
                                        ng-search="favorite_drink.$medicines" ng-model="d.drink"></i-list>
                                    <i-button class="col2" type="delete default"
                                        ng-click="doctors_visits.favorite_drink_list.length ==1 || doctors_visits.favorite_drink_list.splice($index,1)">
                                    </i-button>

                                </div>
                            </div>
                        </div>
                    </div>


                </fieldset>

                <br>
                <br>

                <fieldset>
                    <legend>
                        ##word.forbidden_foods_drinks##
                    </legend>

                    <div class="row">
                        <div class="col6">
                            <div class="row">

                                <h2 class="black">##word.foods##</h2>
                                <i-button type="add default" ng-click="doctors_visits.forbidden_food_list.push({})">
                                </i-button>

                                <div ng-repeat="f in doctors_visits.forbidden_food_list" class="row">
                                    <i-list class="col8" display="name_##session.lang##" items="foodsList"
                                        ng-search="forbidden_food.$medicines" ng-model="f.food"></i-list>
                                    <i-button class="col2" type="delete default"
                                        ng-click="doctors_visits.forbidden_food_list.length ==1 || doctors_visits.forbidden_food_list.splice($index,1)">
                                    </i-button>

                                </div>
                            </div>

                        </div>

                        <div class="col6">
                            <div class="row">
                                <h2 class="black">##word.drinks##</h2>
                                <i-button type="add default" ng-click="doctors_visits.forbidden_drink_list.push({})">
                                </i-button>

                                <div ng-repeat="d in doctors_visits.forbidden_drink_list" class="row">
                                    <i-list class="col8" items="drinksList" display="name_##session.lang##"
                                        ng-search="forbidden_drink.$medicines" ng-model="d.drink"></i-list>
                                    <i-button class="col2" type="delete default"
                                        ng-click="doctors_visits.forbidden_drink_list.length ==1 || doctors_visits.forbidden_drink_list.splice($index,1)">
                                    </i-button>

                                </div>
                            </div>
                        </div>
                    </div>


                </fieldset>
            </div>

            <div id="examinationBeforeDetectionInformation" class="tab-content">
                <fieldset>

                    <div class="row">
                        <i-control class="col4" label="##word.blood_pressure##"
                            ng-model="doctors_visits.ex_before_detection.blood_pressure"></i-control>
                    </div>

                    <div class="row">
                        <i-control class="col4" label="##word.breathing##"
                            ng-model="doctors_visits.ex_before_detection.breathing"></i-control>
                    </div>

                    <div class="row">
                        <i-control class="col4" label="##word.heart_beats##"
                            ng-model="doctors_visits.ex_before_detection.heart_beats"></i-control>
                    </div>

                    <div class="row">
                        <i-control class="col4" label="##word.body_temperature##"
                            ng-model="doctors_visits.ex_before_detection.body_temperature"></i-control>
                    </div>

                    <div class="row">
                        <i-control class="col4" label="##word.Sugar##"
                            ng-model="doctors_visits.ex_before_detection.Sugar"></i-control>
                    </div>

                    <div class="row">
                        <i-control class="col4" label="##word.weight##"
                            ng-model="doctors_visits.ex_before_detection.weight"></i-control>
                    </div>


                    <div class="row">
                        <i-control class="col7" label="##word.previous_operations##"
                            ng-model="doctors_visits.ex_before_detection.previous_operations"></i-control>
                    </div>

                </fieldset>

            </div>


            <div id="diagnosisInformation" class="tab-content">
                <div class="row">

                    <div class="row">

                        <i-list label="##word.result_visit##" class="col4"
                            ng-model="doctors_visits.diagnosis.result_visit" ng-search="_search.$diagnosis_search"
                            items="resultVisitList" display="##session.lang##"></i-list>

                        <i-list class="col4" ng-show="doctors_visits.diagnosis.result_visit.id === 4"
                            label="##word.transferred_department##"
                            ng-model="doctors_visits.diagnosis.transferred_department" items="clinicList2"
                            display2="name" display="specialty.name" space=" - " ng-search="_diagnosis.$clinic_search">
                        </i-list>

                        <i-date2 class="col4" ng-show="doctors_visits.diagnosis.result_visit.id === 2"
                            ng-model="doctors_visits.diagnosis.counseling_date" label="##word.next_counseling_date##">
                        </i-date2>

                        <i-date2 class="col4" ng-show="doctors_visits.diagnosis.result_visit.id === 3"
                            ng-model="doctors_visits.diagnosis.counseling_re_detection"
                            label="##word.next_counseling_re_detection##">
                        </i-date2>
                    </div>

                    <div class="row">
                        <i-textarea rows="10" label="##word.prescription_treatment##" class="col8"
                            ng-model="doctors_visits.diagnosis.prescription_treatment">
                        </i-textarea>
                    </div>

                    <div class="row">
                        <i-textarea label="##word.special_notes##" class="col8"
                            ng-model="doctors_visits.diagnosis.special_notes">
                        </i-textarea>
                    </div>

                </div>
            </div>

            <div id="doctorsVisitsFiles" class="tab-content">
                <fieldset>
                    <legend> ##word.customers_files## </legend>
                    <div class="center">
                        <i-image help-id="cities_logo" ng-model="doctors_visits.image_url"></i-image>
                        <i-files label="##word.files##" categoty="doctors_visits" ng-model="doctors_visits.files">
                        </i-files>

                    </div>
                </fieldset>
                <i-button type="default left" fa="2x fa-angle-double-left"
                    onclick="document.querySelector('.tab-link.active + .tab-link').click();"></i-button>
            </div>
        </div>
    </div>
</div>