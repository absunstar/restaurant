<div ng-hide="busy" class="row">
    <div class="tabs col">
        <div class="tabs-header full">
            <a class="tab-link" onclick="site.showTabContent(event, '#basicInformation')">
                ##word.basic_information## </a>
            <a class="tab-link" onclick="site.showTabContent(event, '#drugsInformation')">
                ##word.drugs## </a>
            <a class="tab-link" onclick="site.showTabContent(event, '#scanInformation')">
                ##word.scan## </a>
            <a class="tab-link" onclick="site.showTabContent(event, '#analysesInformation')">
                ##word.analyses## </a>
            <a class="tab-link" onclick="site.showTabContent(event, '#operationInformation')">
                ##word.operation## </a>
            <a class="tab-link" onclick="site.showTabContent(event, '#diagnosisInformation')">
                ##word.diagnosis## </a>
        </div>

        <div id="customerAllInfo" class="tabs-content bold full">

            <div id="basicInformation" class="tab-content">
                <fieldset>
                    <legend> ##word.basic_information##</legend>

                    <div class="row">

                        <div class="col9">
                            <div class="row">
                                <br>
                                <i-button type="details" label="##word.customers_details##"
                                    ng-click="showPatient(ticket.customer.id)"></i-button>
                                <div class="row">
                                    <div class="row" ng-show="ticket.customer.id">
                                        <fieldset>

                                            <table class="table bold center hover">
                                                <tr>
                                                    <td class="blue"> ##word.customer_name## </td>
                                                    <td colspan="7" class="center">
                                                        {{ticket.customer.name_##session.lang##}}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="blue"> ##word.gender## </td>
                                                    <td colspan="2" class="center">
                                                        {{ticket.customer.gender.##session.lang##}}
                                                    </td>
                                                    <td class="blue"> ##word.child## </td>
                                                    <td colspan="2" ng-show="ticket.customer.child == true">
                                                        <p class="green"> ##word.yes## </p>
                                                    </td>
                                                    <td colspan="2" ng-show="!ticket.customer.child">
                                                        <p class="red"> ##word.no## </p>
                                                    </td>
                                                    <td colspan="2"></td>
                                                </tr>


                                                <tr>
                                                    <td class="blue"> ##word.weight## </td>
                                                    <td colspan="2" class="center"> {{ticket.customer.weight}} </td>
                                                    <td class="blue"> ##word.tall## </td>
                                                    <td colspan="2" class="center"> {{ticket.customer.tall}} </td>
                                                    <td class="blue"> ##word.blood_type## </td>
                                                    <td colspan="2" class="center red">
                                                        {{ticket.customer.blood_type.name}}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="blue"> ##word.medicine_notes## </td>
                                                    <td colspan="7" class="center"> {{ticket.customer.medicine_notes}}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="blue"> ##word.gov## </td>
                                                    <td colspan="2" class="center"> {{ticket.customer.gov.name}} </td>
                                                    <td class="blue"> ##word.city## </td>
                                                    <td colspan="2" class="center"> {{ticket.customer.city.name}} </td>
                                                    <td class="blue"> ##word.area## </td>
                                                    <td colspan="2" class="center"> {{ticket.customer.area.name}} </td>
                                                </tr>

                                                <tr>
                                                    <td class="blue"> ##word.address## </td>
                                                    <td colspan="7" class="center"> {{ticket.customer.address}}</td>
                                                </tr>
                                                <tr>
                                                    <td class="blue"> ##word.mobile## </td>
                                                    <td colspan="4" class="center"> {{ticket.customer.mobile}}</td>
                                                    <td class="blue"> ##word.phone## </td>
                                                    <td colspan="3" class="center"> {{ticket.customer.phone}}</td>
                                                </tr>

                                            </table>
                                        </fieldset>
                                    </div>
                                </div>

                                <br>
                                <br>

                                <table class="table hover bold">
                                    <tr>
                                        <td class="title">##word.Ticket_number##</td>
                                        <td class="blue center userPrint"> {{ticket.code}}</td>
                                    </tr>
                                    <tr>
                                        <td class="title">##word.booking_date##</td>
                                        <td class="brown center"> {{ticket.date | date : 'dd - MM - yyyy'}}</td>
                                    </tr>

                                    <tr>
                                        <td class="title">##word.ticket_type##</td>
                                        <td class="center"> {{ticket.ticket_type.##session.lang##}}</td>
                                    </tr>

                                    <tr>
                                        <td class="title">##word.notes##</td>
                                        <td class="center"> {{ticket.notes}}</td>
                                    </tr>

                                    <tr>
                                        <td class="title">##word.notes_before##</td>
                                        <td class="center"> {{ticket.notes_before}}</td>
                                    </tr>

                                    <tr>
                                        <td class="title"> ##word.status## </td>
                                        <td class="center">
                                            <p class="blue">{{ticket.status.ar}}</p>
                                            <i-button type="update" label="##word.done_attendance##"
                                                ng-hide="ticket.status.id!=1" ng-show="ticket.status.id==1"
                                                ng-click="attend(ticket)"></i-button>

                                            <i-button type="update" label="##word.just_booking##"
                                                ng-hide="ticket.status.id!=2" ng-show="ticket.status.id==2"
                                                ng-click="without(ticket)"></i-button>


                                            <i-button type="update" label="##word.done_access_doctor##"
                                                ng-show="ticket.status.id==2" ng-hide="ticket.status.id!=2"
                                                onclick="site.showModal('#ticketNotes')"></i-button>

                                            <i-button type="update" class="col6 center" label="##word.sellorder##"
                                                ng-hide="ticket.status.id!=3" ng-show="ticket.status.id==3"
                                                ng-click="sellorder(ticket)"></i-button>


                                            <i-button type="update" label="##word.done_detected##"
                                                ng-show="ticket.status.id==3" ng-hide="ticket.status.id!=3"
                                                ng-click="detection(ticket)"></i-button>

                                            <i-button type="update" class="col6 center" label="##word.at_the_doctor##"
                                                ng-show="ticket.status.id==4" ng-hide="ticket.status.id!=4"
                                                ng-click="atTheDoctor(ticket)"></i-button>

                                        </td>
                                    </tr>

                                </table>
                            </div>

                            <br>
                            <br>
                            <br>


                        </div>

                        <div class="col3">
                            <i-image view ng-model="ticket.image_url"></i-image>
                        </div>
                    </div>

                    <div class="row">
                        <table class="table center hover bold">
                            <tr>
                                <th>##word.clinics##</th>
                                <th>##word.specialty##</th>
                                <th>##word.doctor_name##</th>
                                <th>##word.shift_name##</th>
                                <th>##word.work_day##</th>
                                <th>##word.work_from##</th>
                                <th>##word.work_to##</th>

                            </tr>
                            <tr>
                                <td> {{ticket.selected_clinic.name}}</td>
                                <td> {{ticket.selected_specialty.name}}</td>
                                <td class="title"> {{ticket.selected_doctor.name}}</td>
                                <td> {{ticket.selected_shift.name}}</td>
                                <td> {{ticket.selected_time.day.ar}}</td>
                                <td class="green"> {{ticket.selected_time.from.minute}} :
                                    {{ticket.selected_time.from.hour}}</td>
                                <td class="red"> {{ticket.selected_time.to.minute}} :
                                    {{ticket.selected_time.to.hour}}</td>

                            </tr>
                        </table>
                    </div>

                </fieldset>

                <div class="row">
                    <div class="col5"></div>
                    <i-button x-permissions="tickets_update || tickets_manage" class="col1" type="edit"
                        label="##word.edit##" ng-click="displayUpdateTicket(ticket)"></i-button>
                    <i-button x-permissions="tickets_delete || tickets_manage" class="col1" type="delete"
                        label="##word.delete##" ng-click="displayDeleteTicket(ticket)"></i-button>
                </div>


            </div>

            <div id="drugsInformation" class="tab-content">
                <fieldset>
                    <legend>
                        <i-button type="add default" ng-click="ticket.drugs_list.push({active:true})"></i-button>
                        ##word.drugs##
                    </legend>
                    <div class="row" ng-repeat="info in ticket.drugs_list">
                        <i-button type="delete default"
                            ng-click="ticket.drugs_list.length ===1 || ticket.drugs_list.splice($index,1)"></i-button>

                        <i-list class="col4" ng-model="info.drugs" items="drugsList"
                            ng-search="_search.$drugses" display="name"></i-list>
                    </div>
                </fieldset>

            </div>

            <div id="scanInformation" class="tab-content">
                <fieldset>
                    <legend>
                        <i-button type="add default" ng-click="ticket.scans_list.push({active:true})"></i-button>
                        ##word.scans##
                    </legend>
                    <div class="row" ng-repeat="info in ticket.scans_list">
                        <i-button type="delete default"
                            ng-click="ticket.scans_list.length ===1 || ticket.scans_list.splice($index,1)"></i-button>

                        <i-list class="col4" ng-model="info.scans" items="scansList"
                            ng-search="_search.$scanses" display="name"></i-list>
                    </div>
                </fieldset>
            </div>

            <div id="analysesInformation" class="tab-content">
                <fieldset>
                    <legend>
                        <i-button type="add default" ng-click="ticket.analyses_list.push({active:true})"></i-button>
                        ##word.analyses##
                    </legend>
                    <div class="row" ng-repeat="info in ticket.analyses_list">
                        <i-button type="delete default"
                            ng-click="ticket.analyses_list.length ===1 || ticket.analyses_list.splice($index,1)">
                        </i-button>

                        <i-list class="col4" ng-model="info.analyses" items="analysesList"
                            ng-search="_search.$scanses" display="name"></i-list>
                    </div>
                </fieldset>
            </div>

            <div id="operationInformation" class="tab-content">
                <fieldset>
                    <legend>
                        <i-button type="add default" ng-click="ticket.operation_list.push({active:true})"></i-button>
                        ##word.operation##
                    </legend>
                    <div class="row" ng-repeat="info in ticket.operation_list">
                        <i-button type="delete default"
                            ng-click="ticket.operation_list.length ===1 || ticket.operation_list.splice($index,1)">
                        </i-button>

                        <i-list class="col4" ng-model="info.operation" items="operationList"
                            ng-search="_search.$scanses" display="name"></i-list>
                    </div>
                </fieldset>
            </div>

            <div id="diagnosisInformation" class="tab-content">
                <div class="col5">
                    <i-list label="##word.diagnosis##" ng-model="ticket.diagnosis" ng-search="_search.$diagnosis_search"
                        items="diagnosisList" display="ar"></i-list>
                    <i-textarea label="##word.notes##" ng-model="tecket.doctor_notes"></i-textarea>

                </div>
            </div>
        </div>
    </div>
</div>
<div x-import="tickets/action_info.html"></div>