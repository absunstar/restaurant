<div id="complexViewModal" class="modal" fixed>

    <div class="modal-content">
        <div class="modal-header">
            <span class="close">&times;</span>
            <h2>
                ##word.complex_items## <i class="fa fa-pencil"></i>
            </h2>
        </div>
        <div class="modal-body">
            <form class="form">
                <div class="row">
                    <i-control class="col2" ng-disabled="complexView.view" ng-model="complexView.value_add.value"
                        label="##word.value_added##" type="number">
                    </i-control>
                    <i-radio ng-hide="complexView.view" ng-model="complexView.value_add.type"
                        label="##word.discount_types_number##" ng-value="number" group="type" type="radio"></i-radio>
                    <i-radio ng-hide="complexView.view" ng-model="complexView.value_add.type"
                        label="##word.discount_types_percent##" ng-value="percent" group="type" type="radio"></i-radio>
                </div>
                <div class="row" ng-hide="complexView.view">



                    <div class="row">

                        <i-control ng-keydown="getItemsName($event)" id="item_name" class="col3"
                            ng-model="search_item_name" label="##word.search##" type="text"></i-control>

                        <i-list class="col4" label="##word.stores_in_item_name##" ng-model="selectedItem" display="name_##session.lang##"
                            items="itemsNameList" ng-search="_search.$item_searching">
                        </i-list>

                        <i-list ng-search="_search.$items_size" class="col3" display="size_##session.lang##" ng-model="items_size"
                            label="##word.barcode##" items="selectedItem.sizes">
                        </i-list>

                        <i-button type="add" label="##word.add##"
                        ng-click="incertComplexItem(complexView)"> </i-button>
                    </div>

                </div>

                <br>
                <br>
                <br>
                <div class="row" ng-show="complexView.complex_items.length > 0">
                    <table class="table hover">
                        <tr>
                            <th>##word.item_name##</th>
                            <th>##word.stores_items_sizes##</th>
                            <th>##word.item_code##</th>
                            <th>##word.average_cost##</th>
                            <th>##word.unit##</th>
                            <th>##word.price##</th>
                            <th>##word.item_count##</th>
                            <th ng-hide="complexView.view">##word.actions##</th>
                        </tr>

                        <tr class="bold" ng-repeat="i in complexView.complex_items">
                            <td>
                                <br ng-show="complexView.view">
                                <p class="center bold blue">{{i.name_##session.lang##}}</p>
                            </td>
                            <td>
                                <br ng-show="complexView.view">
                                <p class="center bold">{{i.size_##session.lang##}}</p>
                            </td>
                            <td>
                                <br ng-show="complexView.view">
                                <p class="center bold blue">{{i.barcode}}</p>
                            </td>
                            <td>
                                <br ng-show="complexView.view">
                                <p class="center bold ">{{i.unit.average_cost}}</p>
                            </td>
                            <td>
                                <br ng-show="complexView.view">
                                <p ng-show="complexView.view" class="center bold">{{i.unit.name_##session.lang##}} -
                                    {{i.unit.barcode}}</p>
                                <i-list ng-hide="complexView.view" ng-model="i.unit"
                                display="name_##session.lang##" space=" - "  ng-search="_search.$category_item.$unit_search"
                                    ng-change=" i.price = i.unit.price ;calcSize(i)" display2="barcode"
                                    items="i.size_units_list"></i-list>
                            </td>
                            <td>
                                <br ng-show="complexView.view">
                                <p ng-show="complexView.view" class="center bold green">{{i.price}}</p>
                                <i-control ng-hide="complexView.view" ng-model="i.price" type="number"></i-control>
                            </td>

                            <td>
                                <br ng-show="complexView.view">
                                <p ng-show="complexView.view" class="center bold">{{i.count}}</p>
                                <i-control ng-hide="complexView.view" ng-model="i.count" type="number"></i-control>
                            </td>

                            <td class="center" ng-hide="complexView.view">
                                <i-button type="delete" ng-click="deleteItemComplex(complexView.complex_items,i)">
                                </i-button>
                            </td>

                        </tr>

                    </table>
                </div>

            </form>
        </div>
        <h2 class="error">{{error}}</h2>
        <div class="modal-footer center">
            <i-button type="close" onclick="site.hideModal('#complexViewModal')" label="##word.close##">
            </i-button>

        </div>
    </div>


</div>