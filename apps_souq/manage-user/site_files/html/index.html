<!DOCTYPE html>
<html lang="en" x-permissions="login" data-ng-app="myApp">
  <head>
    <title>##word.brand_title##</title>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/haraj.css" />
    <link rel="stylesheet" href="/x-css/all.css" />
    <link rel="stylesheet" href="/x-css/font-cairo.css" />
    <link rel="icon" type="image/x-icon" href="##setting.logo##" />
    <style>
      * {
        max-width: initial;
      }
      .dimgray {
        color: dimgray;
      }
      :root {
        --body-margin-top: 0px;
        --body-margin-bottom: 0px;
        --zoom: 100%;
        --fieldset-border: none;
        --fieldset-background: #fff;
      }
      body {
       /*  background-color: #bbb !important;
        background-image: url(/assets/palm.svg) !important; */
        background-color: #ecf9f6;
        background-repeat: repeat !important;
      }
      .tabs .tabs-header .tab-link.active {
        border-radius: 5px;

      }
      .tabs .tabs-header .tab-link {
        border-radius: 5px;
      }
    </style>
    <style x-lang="ar">
      .nav1 {
        flex-direction: initial;
        padding: 7px;
      }
      :root {
        --direction: rtl;
        --text-align: right;
        --float: right;
      }
    </style>
  </head>

  <body class="##session.lang## loaded" ng-controller="manage_user">
    <div x-import="haraj/header.html"></div>
  
    <div x-import="manage-user/view_modal.html"></div>
    <div x-import="manage-user/order_modal.html"></div>
    <div x-import="manage-user/add_modal_ad.html"></div>
    <div x-import="manage-user/delete_modal_ad.html"></div>
    <div x-import="manage-user/update_modal_ad.html"></div>
    <div x-import="manage-user/view_modal_ad.html"></div>

    <div x-import="manage-user/add_modal_store.html"></div>
    <div x-import="manage-user/delete_modal_store.html"></div>
    <div x-import="manage-user/update_modal_store.html"></div>
    <div x-import="manage-user/view_modal_store.html"></div>

    <div x-import="content/selection_categories.html"></div>
    <br />
    <h1 class="center bold black">##word.manage_your_personal_account##</h1>
    <br />
    <div class="form" id="manage_user">
      <div class="all-section tabs inline-block user-tabs">
        <div class="tabs-header">
          <a class="tab-link" onclick="site.showTabContent(event, '#personal_info')"> ##word.personal_info## </a>
          <a class="tab-link" ng-click="showTab($event,'#my_addresses')"> ##word.my_addresses## </a>
          <a class="tab-link" onclick="site.showTabContent(event, '#cart')" ng-show="defaultSettings.order_settings.activate_orders"> ##word.cart## </a>
          <a class="tab-link" ng-click="showTab($event,'#my_orders')" ng-show="defaultSettings.order_settings.activate_orders"> ##word.my_orders## </a>
          <a class="tab-link" ng-click="showTab($event,'#my_ads')"> ##word.my_ads## </a>
          <a class="tab-link" ng-click="showTab($event,'#my_stores')" ng-show="defaultSettings.stores_settings.activate_stores"> ##word.my_stores## </a>
          <a class="tab-link" ng-click="showTab($event,'#favorite_ads')"> ##word.favorite_ads## </a>
          <a class="tab-link" ng-click="showTab($event,'#favorite_stores')" ng-show="defaultSettings.stores_settings.activate_stores"> ##word.favorite_stores## </a>
        </div>
        <div class="tabs-content">
          <div id="personal_info" class="tab-content" style="display: inline-block">
            <fieldset>
              <legend>##word.basic_info##</legend>
              <div class="row">
                <table class="table loaded hover center bold">
                  <tr>
                    <td class="blue">
                      <br />
                      ##word.profile_photo##
                    </td>

                    <td>
                      <i-image view class="logo" ng-model="manage_user.profile.image_url"></i-image>
                    </td>

                    <td>
                      <i-button type="update" label="##word.update##" ng-click="view('logo')"> </i-button>
                    </td>
                  </tr>

                  <tr>
                    <td class="blue">
                      <br />
                      ##word.cover_photo##
                    </td>

                    <td>
                      <i-image view class="logo" ng-model="manage_user.profile.cover"></i-image>
                    </td>

                    <td>
                      <i-button type="update" label="##word.update##" ng-click="view('cover')"> </i-button>
                    </td>
                  </tr>

                  <tr>
                    <td class="blue">
                      <br />
                      ##word.user_name##
                    </td>

                    <td class="userPrint">
                      <br />
                      {{manage_user.email}}
                    </td>

                    <td>
                      <i-button type="update" label="##word.update##" ng-click="view('email')"> </i-button>
                    </td>
                  </tr>

                  <tr>
                    <td class="blue">
                      <br />
                      ##word.password##
                    </td>

                    <td>
                      <i-control type="password" disabled ng-model="manage_user.password"></i-control>
                    </td>

                    <td>
                      <i-button type="update" label="##word.update##" ng-click="view('password')"> </i-button>
                    </td>
                  </tr>
                </table>
              </div>
            </fieldset>
            <br />
            <br />

            <fieldset>
              <legend>##word.contact_info##</legend>
              <div class="row">
                <table class="table loaded hover center bold">
                  <tr>
                    <td class="blue">
                      <br />
                      ##word.the_name##
                    </td>

                    <td class="userPrint">
                      <br />
                      {{manage_user.profile.name}} {{manage_user.profile.last_name}}
                    </td>

                    <td>
                      <i-button type="update" label="##word.update##" ng-click="view('first_name')"> </i-button>
                    </td>
                  </tr>

                  <tr ng-hide="manage_user.is_company">
                    <td class="blue">
                      <br />
                      ##word.gender##
                    </td>

                    <td>
                      <br />
                      {{manage_user.gender.##session.lang##}}
                    </td>

                    <td>
                      <i-button type="update" label="##word.update##" ng-click="view('gender')"> </i-button>
                    </td>
                  </tr>

                  <tr>
                    <td class="blue">
                      <br />
                      ##word.mobile##
                    </td>

                    <td class="userPrint">
                      <br />
                      <a href="tel:{{manage_user.mobile}}">
                        {{manage_user.mobile}}
                        <i class="fa fa-mobile"></i>
                      </a>
                    </td>

                    <td>
                      <i-button type="update" label="##word.update##" ng-click="view('mobile')"> </i-button>
                    </td>
                  </tr>

                  <tr>
                    <td class="blue">
                      <br />
                      ##word.phone##
                    </td>

                    <td class="userPrint">
                      <br />
                      <a href="tel:{{manage_user.profile.phone}}">
                        {{manage_user.profile.phone}}
                        <i class="fa fa-phone"></i>
                      </a>
                    </td>

                    <td>
                      <i-button type="update" label="##word.update##" ng-click="view('phone')"> </i-button>
                    </td>
                  </tr>
                </table>
              </div>
            </fieldset>

            <i-button type="default left" fa="2x fa-angle-double-left" onclick="document.querySelector('.tab-link.active + .tab-link').click();"></i-button>
          </div>

          <div id="my_addresses" class="tab-content">
            <fieldset>
              <legend>##word.my_addresses##</legend>
              <div class="row">
                <fieldset>
                  <legend>##word.main_address##</legend>
                  <i-address ng-model="manage_user.profile.main_address"></i-address>
                </fieldset>

                <br />
                <br />

                <fieldset ng-show="##setting.content.other_addresses_appear##">
                  <legend>
                    ##word.other_addresses##
                    <i-button type="add default" ng-click=" manage_user.profile.other_addresses_list.push({})"></i-button>
                  </legend>
                  <div class="row border padding" ng-repeat="o in manage_user.profile.other_addresses_list">
                    <i-address ng-model="o"></i-address>
                    <i-button type="delete" ng-click="manage_user.profile.other_addresses_list.splice($index,1)"> </i-button>
                  </div>
                </fieldset>
              </div>
              <i-button type="save" label="##word.save##" ng-click="saveUserChanges(manage_user)"> </i-button>
            </fieldset>
          </div>

          <div id="cart" ng-show="defaultSettings.order_settings.activate_orders" class="tab-content">
            <fieldset>
              <legend>##word.cart##</legend>
              <br />
              <br />
              <div class="row" ng-hide="manage_user.cart.items.length > 0">
                <br />
                <br />
                <h1 class="blue bold center">##word.there_no_products_cart##</h1>
                <br />
                <br />
              </div>
              <div class="row" ng-show="manage_user.cart.items.length > 0">
                <table x-permissions="login" class="table hover bold">
                  <tr>
                    <th class="not-print">##word.logo##</th>
                    <th>##word.product_name##</th>
                    <th>##word.unit##</th>
                    <th>##word.count##</th>
                    <th>##word.price##</th>
                    <th>##word.currency##</th>
                    <th>##word.total##</th>
                  </tr>
                  <tr ng-repeat="p in manage_user.cart.items">
                    <td class="center not-print">
                      <i-image view class="logo" ng-model="p.image_url"></i-image>
                    </td>
                    <td class="center title">{{p.name}}</td>
                    <td class="center title">{{p.select_quantity.unit.name_##session.lang##}}</td>
                    <td class="center blue">{{p.count}}</td>
                    <td class="center green">{{p.select_quantity.price}}</td>
                    <td class="center">{{p.select_quantity.currency.name_##session.lang##}}</td>
                    <td class="center">{{p.total}}</td>
                  </tr>
                </table>
              </div>
              <div class="row">
                <div class="col5"></div>
                <i-control id="item_name" ng-show="manage_user.cart.items.length > 0" class="col2 r_green center" label="##word.total_purchase_price##" type="number" ng-model="manage_user.cart.net_value" disabled></i-control>
              </div>
            </fieldset>
          </div>

          <div id="my_orders" class="tab-content" ng-show="defaultSettings.order_settings.activate_orders">
            <fieldset>
              <legend>##word.my_orders##</legend>
              <br />

              <div class="row" ng-hide="orderslist.length > 0">
                <br />
                <br />
                <h1 class="blue bold center">##word.there_no_ads##</h1>
                <br />
                <br />
              </div>

              <div class="row" ng-show="orderslist.length > 0">
                <table class="table loaded hover pointer center bold">
                  <tr>
                    <th>##word.order_code##</th>
                    <th>##word.date##</th>
                    <th>##word.payment_method##</th>
                    <th>##word.delivery_type##</th>
                    <th>##word.paid_require##</th>
                    <th>##word.status##</th>
                  </tr>

                  <tr ng-repeat="o in orderslist">
                    <td ng-click="viewOrder(o)" class="indigoD">{{o.code}}</td>
                    <td ng-click="viewOrder(o)" class="brown">{{o.date | date : 'yyyy - MM - dd'}}</td>
                    <td ng-click="viewOrder(o)">{{o.payment_method.##session.lang##}}</td>
                    <td ng-click="viewOrder(o)">{{o.delivery_type.##session.lang##}}</td>
                    <td ng-click="viewOrder(o)" class="green">{{o.paid_require}}</td>
                    <td ng-click="viewOrder(o)" class="blue">{{o.status.##session.lang##}}</td>
                  </tr>
                </table>
              </div>
            </fieldset>
          </div>

          <div id="my_ads" class="tab-content">
            <fieldset>
              <legend>##word.my_ads##</legend>
              <br />

              <div class="top-actions">
                
                <i-button type="add" label="##word.ads_new##" ng-click="displayAddAd()"></i-button>
              </div>
              <div class="row">
                <table class="table loaded hover pointer center bold">
                  <tr>
                    <th>##word.logo##</th>
                    <th>##word.name##</th>
                    <th>##word.store##</th>
                    <th>##word.status##</th>
                    <th class="not-print">##word.actions##</th>
                  </tr>

                  <tr ng-repeat="l in myAdslist">
                    <td ng-click="viewOrder(l)"><i-image view class="logo" ng-model="l.image_url"></i-image></td>
                    <td ng-click="viewOrder(l)">{{l.name}}</td>
                    <td ng-click="viewOrder(l)" class="blue">{{l.store.name}}</td>
                    <td ng-click="viewOrder(l)" class="">{{l.ad_status.##session.lang##}}</td>
                    <td class="center not-print">
                      <i-button type="view" label="##word.details##" ng-click="displayDetailsAd(l)"></i-button>

                      <i-button type="edit" label="##word.edit##" ng-click="displayUpdateAd(l)"></i-button>

                      <i-button type="delete" label="##word.delete##" ng-click="displayDeleteAd(l)"></i-button>
                    </td>
                  </tr>
                </table>
              </div>
            </fieldset>
          </div>

          <div id="my_stores" ng-show="defaultSettings.stores_settings.activate_stores" class="tab-content">
            <fieldset>
              <legend>##word.my_stores##</legend>
              <br />

              <div class="top-actions">
                <i-button type="add" label="##word.stores_new##" ng-click="displayAddStore()"></i-button>
              </div>
              <div class="row">
                <table class="table loaded hover pointer center bold">
                  <tr>
                    <th>##word.logo##</th>
                    <th>##word.name##</th>
                    <th>##word.store_status##</th>
                    <th class="not-print">##word.actions##</th>
                  </tr>

                  <tr ng-repeat="l in myStoreslist">
                    <td ng-click="viewOrder(l)"><i-image view class="logo" ng-model="l.image_url"></i-image></td>
                    <td ng-click="viewOrder(l)">{{l.name}}</td>
                    <td ng-click="viewOrder(l)" class="">{{l.store_status.##session.lang##}}</td>
                    <td class="center not-print">
                      <i-button type="view" label="##word.details##" ng-click="displayDetailsStore(l)"></i-button>

                      <i-button type="edit" label="##word.edit##" ng-click="displayUpdateStore(l)"></i-button>

                      <i-button type="delete" label="##word.delete##" ng-click="displayDeleteStore(l)"></i-button>
                    </td>
                  </tr>
                </table>
              </div>
            </fieldset>
          </div>

        
        
          <div id="favorite_ads" class="tab-content">
            <fieldset>
              <legend>##word.favorite_ads##</legend>
              <br />

              <div class="row" ng-hide="favoriteAdslist.length > 0">
                <br />
                <br />
                <h1 class="blue bold center">##word.there_no_ads##</h1>
                <br />
                <br />
              </div>

              <div class="row" ng-show="favoriteAdslist.length > 0">
                <table class="table loaded hover pointer center bold">
                  <tr>
                    <th>##word.logo##</th>
                    <th>##word.name##</th>
                    <th>##word.ad_owner##</th>
                    <th>##word.store##</th>
                  </tr>

                  <tr ng-repeat="f in favoriteAdslist" ng-click="displayContent(f.id)">
                    <td><i-image view class="logo" ng-model="f.image_url"></i-image></td>
                    <td>{{f.name}}</td>
                    <td class="">{{f.store.user.profile.name}}</td>
                    <td class="blue">{{f.store.name}}</td>
                  </tr>
                </table>
              </div>
            </fieldset>
          </div>

          <div id="favorite_stores" ng-show="defaultSettings.stores_settings.activate_stores" class="tab-content">
            <fieldset>
              <legend>##word.favorite_stores##</legend>
              <br />

              <div class="row" ng-hide="favoriteStoreslist.length > 0">
                <br />
                <br />
                <h1 class="blue bold center">##word.there_no_stores##</h1>
                <br />
                <br />
              </div>

              <div class="row" ng-show="favoriteStoreslist.length > 0">
                <table class="table loaded hover pointer center bold">
                  <tr>
                    <th>##word.logo##</th>
                    <th>##word.name##</th>
                    <th>##word.store_owner##</th>
                  </tr>

                  <tr ng-repeat="f in favoriteStoreslist" ng-click="displayStore(f.id)">
                    <td><i-image view class="logo" ng-model="f.image_url"></i-image></td>
                    <td>{{f.name}}</td>
                    <td class="">{{f.user.profile.name}}</td>
                  </tr>
                </table>
              </div>
            </fieldset>
          </div>
        </div>
      </div>
    </div>
    <!-- <script src="../js/script.js"></script> -->
    <footer class="footer ng-scope" x-import="haraj/footer.html" ng-controller="footer_herag"></footer>

    <div x-import="haraj/scripts.html"></div>

    <script x-import="manage-user/index.js"></script>
  </body>
</html>
